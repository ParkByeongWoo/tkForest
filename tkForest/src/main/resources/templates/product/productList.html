<!DOCTYPE html>
<html lang="ko" xmlns:th="http://thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>상품 목록</title>
    <link rel="stylesheet" th:href="@{/css/productList.css}">
    <script defer th:src="@{/script/productSearch.js}"></script>
</head>

<body>
	<h2>productList.html</h2>
		<div class="head">
	        <!-- 게시글 목록 -->
	        <div>
	            <table border="1">
	                <tr>
	                    <th class="no">글번호</th>
	                    <th class="productName">상품명</th>
	                    <th class="seller">셀러</th>
	                    <th class="registrationDate">등록일</th>
	                    <th class="brand">브랜드</th>
	                </tr>
       				<th:block th:unless="${#lists.isEmpty(list)}">
       				
	                <!-- 반복 구간-->
	                <tr th:each="product, status : ${list}">
	                    <td class="no" th:text="${(list.number+1) * list.size - (list.size - status.count)}">1</td>
	                    <td class="productName" th:text="${product.productNo}"></td>
	                    <td class="seller" th:text="${product.sellerMemberNo}"></td>
	                    <td class="registrationDate" th:text="${product.registrationDate}"></td>
	                    <td class="brand" th:text="${product.brand}"></td>
	                </tr>
	                </th:block>
	            </table>
	        </div>
	     </div> <!-- end .head-->
	     <!-- Page Navigation -->
    <nav class="pagination">
        <!-- 앞 그룹 -->
        <!-- 두 번째 그룹 이상에서 보고 있을 때는 링크 생김 -->
		<th:block th:if="${navi.startPageGroup > 1}">
			<a class="page-no navi" 
			   th:href="|javascript:pageFormSubmit(${navi.startPageGroup-1})|" >&laquo;</a>
		</th:block>
		
		<!-- 첫 번째 그룹을 보고 있을 때는 링크 안생김 -->
		<th:block th:unless="${navi.startPageGroup > 1}">
			<span class="page-no navi" >&laquo;</span>
		</th:block>

        <!-- 앞 페이지 -->
        <!-- 2페이지 이상의 페이지를 보고 있다면 링크 생김 -->
        <th:block th:if="${navi.page > 1}">
        	<a class="page-no navi" 
        	   th:href="|javascript:pageFormSubmit(${navi.page - 1})|" >&lsaquo;</a>
        </th:block>
        
        <!-- 1페이지를 보고 있다면 링크 생기지 않음 -->
        <th:block th:unless="${navi.page > 1}">
			<span class="page-no navi">&lsaquo;</span>
        </th:block>
        
        <!-- 페이지 번호 출력 -->
        <span th:each="count : ${#numbers.sequence(navi.startPageGroup, navi.endPageGroup)}">
        	<!-- 요청한 페이지(링크 불필요) -->
        	<span th:if="${count == navi.page}">
        		<b class="page-no current" th:text="${count}"></b>
        	</span>
        	       
        	<!-- 요청하지 않은 나머지 페이지(링크필요) -->
        	<span th:unless="${count == navi.page}">
        		<a th:href="|javascript:pageFormSubmit(${count})|" class="page-no" th:text="${count}"></a>
        	</span>		
		</span>
		
        <!-- 뒷 페이지 -->
        <!-- 현재 페이지 뒤에 다른 페이지가 있으면 링크 생김 -->
		<th:block th:if="${(navi.totalPages) > (navi.page)}">
			<a class="page-no navi" 
				th:href="|javascript:pageFormSubmit(${navi.page + 1})|">&rsaquo;</a>
		</th:block>
		
        <!-- 마지막 페이지라면 링크 없음 -->
        <th:block th:unless="${(navi.totalPages) > (navi.page)}">
			<span class="page-no navi">&rsaquo;</span>
		</th:block>

        <!-- 뒷 그룹 -->
        <!-- 다음 그룹이 있으면 링크가 생김 -->
		<th:block th:if="${(navi.currentGroup) < (navi.totalGroupCount)}">
			<a class="page-no navi" 
			   th:href="|javascript:pageFormSubmit(${navi.endPageGroup+1})|">&raquo;</a>
		</th:block>
		
		<!-- 마지막 그룹을 보고 있으면 링크 없음 -->
		<th:block th:unless="${(navi.currentGroup) < (navi.totalGroupCount)}">
			<span class="page-no navi" >&raquo;</span>
		</th:block>
    </nav>
</body>

</html>
